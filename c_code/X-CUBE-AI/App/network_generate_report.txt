Neural Network Tools for STM32AI v1.5.1 (STM.ai v7.0.0-RC8)
Created date          : 2022-01-05 18:57:49
Parameters            : generate --name network -m C:/Users/Elizaveta/Downloads/modelLeNet.tflite --type tflite --compression 1 --verbosity 1 --workspace C:\Users\ELIZAV~1\AppData\Local\Temp\mxAI_workspace876552158907005006939087333112493 --output C:\Users\Elizaveta\.stm32cubemx

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : C:\Users\Elizaveta\Downloads\modelLeNet.tflite
type                  : tflite
c_name                : network
workspace dir         : C:\Users\ELIZAV~1\AppData\Local\Temp\mxAI_workspace876552158907005006939087333112493
output dir            : C:\Users\Elizaveta\.stm32cubemx

model_name            : modelLeNet
model_hash            : 6c8eda782fa7351b4d0380ae4d78738d
input                 : serving_default_conv2d_7_input0 [1024 items, 4.00 KiB, ai_float, float, (1, 32, 32, 1)]
inputs (total)        : 4.00 KiB
output                : nl_14 [4 items, 16 B, ai_float, float, (1, 1, 1, 4)]
outputs (total)       : 16 B
params #              : 7,396 items (28.89 KiB)
macc                  : 448,250
weights (ro)          : 29,584 B (28.89 KiB)
activations (rw)      : 6,432 B (6.28 KiB) 
ram (total)           : 10,544 B (10.30 KiB) = 6,432 + 4,096 + 16

Model name - modelLeNet ['serving_default_conv2d_7_input0'] ['nl_14']
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                              oshape               param/size     macc      connected to                      |   c_size   c_macc             c_type               
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_conv2d_7_input0 (Input)   (h:32, w:32, c:1)                                                               |                              
     conv2d_0 (Conv2D)                         (h:28, w:28, c:6)    156/624        117,606   serving_default_conv2d_7_input0   |            +51,744(+44.0%)    optimized_conv2d()[0]
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    nl_1 (Nonlinearity)                       (h:28, w:28, c:6)                   47,040    conv2d_0                          |            -47,040(-100.0%)  
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    pool_2 (Pool)                             (h:14, w:14, c:6)                   4,704     nl_1                              |            -4,704(-100.0%)   
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    nl_3 (Nonlinearity)                       (h:14, w:14, c:6)                   11,760    pool_2                            |                               nl()[1]              
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    conv2d_4 (Conv2D)                         (h:10, w:10, c:16)   2,416/9,664    240,016   nl_3                              |            +17,600(+7.3%)     optimized_conv2d()[2]
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    nl_5 (Nonlinearity)                       (h:10, w:10, c:16)                  16,000    conv2d_4                          |            -16,000(-100.0%)  
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    pool_6 (Pool)                             (h:5, w:5, c:16)                    1,600     nl_5                              |            -1,600(-100.0%)   
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    nl_7 (Nonlinearity)                       (h:5, w:5, c:16)                    4,000     pool_6                            |                               nl()[3]              
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    conv2d_8 (Conv2D)                         (h:1, w:1, c:10)     4,010/16,040   4,010     nl_7                              |            +100(+2.5%)        conv2d()[4]          
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
9    nl_9 (Nonlinearity)                       (h:1, w:1, c:10)                    100       conv2d_8                          |            -100(-100.0%)     
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10   reshape_10 (Reshape)                      (c:10)                                        nl_9                              |                              
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
11   dense_11 (Dense)                          (c:54)               594/2,376      594       reshape_10                        |                               dense()[5]           
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12   nl_12 (Nonlinearity)                      (c:54)                              540       dense_11                          |                               nl()[6]              
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
13   dense_13 (Dense)                          (c:4)                220/880        220       nl_12                             |                               dense()[7]           
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
14   nl_14 (Nonlinearity)                      (c:4)                               60        dense_13                          |                               nl()/o[8]            
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=448,250/448,250  weights=29,584/29,584  activations=--/6,432 io=--/4,112



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : modellenet
c-name                : network
c-node #              : 9
c-array #             : 22
activations size      : 6432
weights size          : 29584
macc                  : 448250
inputs                : ['serving_default_conv2d_7_input0_output']
outputs               : ['nl_14_output']



C-Arrays (22)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)                          item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     serving_default_conv2d_7_input0_output  1024/4096           user         float        float  /input             
1     conv2d_0_output                         1176/4704           activations  float        float                     
2     nl_3_output                             1176/4704           activations  float        float                     
3     conv2d_4_output                         400/1600            activations  float        float                     
4     nl_7_output                             400/1600            activations  float        float                     
5     conv2d_8_output                         10/40               activations  float        float                     
6     dense_11_output                         54/216              activations  float        float                     
7     nl_12_output                            54/216              activations  float        float                     
8     dense_13_output                         4/16                activations  float        float                     
9     nl_14_output                            4/16                user         float        float  /output            
10    conv2d_0_weights                        150/600             weights      const float  float                     
11    conv2d_0_bias                           6/24                weights      const float  float                     
12    conv2d_4_weights                        2400/9600           weights      const float  float                     
13    conv2d_4_bias                           16/64               weights      const float  float                     
14    conv2d_8_weights                        4000/16000          weights      const float  float                     
15    conv2d_8_bias                           10/40               weights      const float  float                     
16    dense_11_weights                        540/2160            weights      const float  float                     
17    dense_11_bias                           54/216              weights      const float  float                     
18    dense_13_weights                        216/864             weights      const float  float                     
19    dense_13_bias                           4/16                weights      const float  float                     
20    conv2d_0_scratch0                       336/1344            activations  float        float                     
21    conv2d_4_scratch0                       320/1280            activations  float        float                     
------------------------------------------------------------------------------------------------------------------------



C-Layers (9)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_type        macc        rom         tensors                                    shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     conv2d_0        2   optimized_conv2d  169350      624         I: serving_default_conv2d_7_input0_output  (1, 32, 32, 1) (0)                     
                                                                    S: conv2d_0_scratch0                                                              
                                                                    W: conv2d_0_weights                                                               
                                                                    W: conv2d_0_bias                                                                  
                                                                    O: conv2d_0_output                         (1, 14, 14, 6) (1)                     
------------------------------------------------------------------------------------------------------------------------
1     nl_3            3   nl                11760       0           I: conv2d_0_output                         (1, 14, 14, 6) (1)                     
                                                                    O: nl_3_output                             (1, 14, 14, 6) (2)                     
------------------------------------------------------------------------------------------------------------------------
2     conv2d_4        6   optimized_conv2d  257616      9664        I: nl_3_output                             (1, 14, 14, 6) (2)                     
                                                                    S: conv2d_4_scratch0                                                              
                                                                    W: conv2d_4_weights                                                               
                                                                    W: conv2d_4_bias                                                                  
                                                                    O: conv2d_4_output                         (1, 5, 5, 16) (3)                      
------------------------------------------------------------------------------------------------------------------------
3     nl_7            7   nl                4000        0           I: conv2d_4_output                         (1, 5, 5, 16) (3)                      
                                                                    O: nl_7_output                             (1, 5, 5, 16) (4)                      
------------------------------------------------------------------------------------------------------------------------
4     conv2d_8        9   conv2d            4110        16040       I: nl_7_output                             (1, 5, 5, 16) (4)                      
                                                                    W: conv2d_8_weights                                                               
                                                                    W: conv2d_8_bias                                                                  
                                                                    O: conv2d_8_output                         (1, 1, 1, 10) (5)                      
------------------------------------------------------------------------------------------------------------------------
5     dense_11        11  dense             594         2376        I: conv2d_8_output                         (1, 1, 1, 10) (5)                      
                                                                    W: dense_11_weights                                                               
                                                                    W: dense_11_bias                                                                  
                                                                    O: dense_11_output                         (1, 1, 1, 54) (6)                      
------------------------------------------------------------------------------------------------------------------------
6     nl_12           12  nl                540         0           I: dense_11_output                         (1, 1, 1, 54) (6)                      
                                                                    O: nl_12_output                            (1, 1, 1, 54) (7)                      
------------------------------------------------------------------------------------------------------------------------
7     dense_13        13  dense             220         880         I: nl_12_output                            (1, 1, 1, 54) (7)                      
                                                                    W: dense_13_weights                                                               
                                                                    W: dense_13_bias                                                                  
                                                                    O: dense_13_output                         (1, 1, 1, 4) (8)                       
------------------------------------------------------------------------------------------------------------------------
8     nl_14           14  nl                60          0           I: dense_13_output                         (1, 1, 1, 4) (8)                       
                                                                    O: nl_14_output                            (1, 1, 1, 4) (9)                       
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=448,250 weights=29,584 act=6,432 ram_io=4,112
-------------------------------------------------------------------------
id   name       c_macc                    c_rom                     c_id
-------------------------------------------------------------------------
0    conv2d_0   ||||||||||        37.8%   |                  2.1%   [0] 
3    nl_3       |                  2.6%   |                  0.0%   [1] 
4    conv2d_4   ||||||||||||||||  57.5%   ||||||||||        32.7%   [2] 
7    nl_7       |                  0.9%   |                  0.0%   [3] 
8    conv2d_8   |                  0.9%   ||||||||||||||||  54.2%   [4] 
11   dense_11   |                  0.1%   |||                8.0%   [5] 
12   nl_12      |                  0.1%   |                  0.0%   [6] 
13   dense_13   |                  0.0%   |                  3.0%   [7] 
14   nl_14      |                  0.0%   |                  0.0%   [8] 

Generated files (5)
----------------------------------------------------------
C:\Users\Elizaveta\.stm32cubemx\network_config.h
C:\Users\Elizaveta\.stm32cubemx\network.h
C:\Users\Elizaveta\.stm32cubemx\network.c
C:\Users\Elizaveta\.stm32cubemx\network_data.h
C:\Users\Elizaveta\.stm32cubemx\network_data.c
